{"type":"root","children":[{"type":"yaml","value":"title: âœ¨ Subsets\r\nsidebar_position: 2","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":4,"column":4,"offset":47}}},{"type":"mdxjsEsm","value":"import { IfcCard } from \"../../../../src/components/Card/InfoCard\";\r\nimport { IfcAlert } from \"../../../../src/components/Alert/Alert\";\r\nimport { Scene } from \"../../../../src/components/Scene/Scene\";","position":{"start":{"line":6,"column":1,"offset":51},"end":{"line":8,"column":64,"offset":251}},"data":{"estree":{"type":"Program","start":51,"end":251,"body":[{"type":"ImportDeclaration","start":51,"end":118,"specifiers":[{"type":"ImportSpecifier","start":60,"end":67,"imported":{"type":"Identifier","start":111,"end":118,"name":"IfcCard","loc":{"start":{"line":6,"column":60,"offset":111},"end":{"line":6,"column":67,"offset":118}},"range":[111,118]},"local":{"type":"Identifier","start":111,"end":118,"name":"IfcCard","loc":{"start":{"line":6,"column":60,"offset":111},"end":{"line":6,"column":67,"offset":118}},"range":[111,118]},"loc":{"start":{"line":6,"column":9,"offset":60},"end":{"line":6,"column":16,"offset":67}},"range":[60,67]}],"source":{"type":"Literal","start":75,"end":117,"value":"../../../../src/components/Card/InfoCard","raw":"\"../../../../src/components/Card/InfoCard\"","loc":{"start":{"line":6,"column":24,"offset":75},"end":{"line":6,"column":66,"offset":117}},"range":[75,117]},"loc":{"start":{"line":6,"column":0,"offset":51},"end":{"line":6,"column":67,"offset":118}},"range":[51,118]},{"type":"ImportDeclaration","start":120,"end":186,"specifiers":[{"type":"ImportSpecifier","start":129,"end":137,"imported":{"type":"Identifier","start":180,"end":188,"name":"IfcAlert","loc":{"start":{"line":7,"column":60,"offset":180},"end":{"line":8,"column":0,"offset":188}},"range":[180,188]},"local":{"type":"Identifier","start":180,"end":188,"name":"IfcAlert","loc":{"start":{"line":7,"column":60,"offset":180},"end":{"line":8,"column":0,"offset":188}},"range":[180,188]},"loc":{"start":{"line":7,"column":9,"offset":129},"end":{"line":7,"column":17,"offset":137}},"range":[129,137]}],"source":{"type":"Literal","start":145,"end":185,"value":"../../../../src/components/Alert/Alert","raw":"\"../../../../src/components/Alert/Alert\"","loc":{"start":{"line":7,"column":25,"offset":145},"end":{"line":7,"column":65,"offset":185}},"range":[145,185]},"loc":{"start":{"line":7,"column":0,"offset":120},"end":{"line":7,"column":66,"offset":186}},"range":[120,186]},{"type":"ImportDeclaration","start":188,"end":251,"specifiers":[{"type":"ImportSpecifier","start":197,"end":202,"imported":{"type":"Identifier","start":248,"end":251,"name":"Scene","loc":{"start":{"line":8,"column":60,"offset":248},"end":{"line":8,"column":63,"offset":251}},"range":[248,251]},"local":{"type":"Identifier","start":248,"end":251,"name":"Scene","loc":{"start":{"line":8,"column":60,"offset":248},"end":{"line":8,"column":63,"offset":251}},"range":[248,251]},"loc":{"start":{"line":8,"column":9,"offset":197},"end":{"line":8,"column":14,"offset":202}},"range":[197,202]}],"source":{"type":"Literal","start":210,"end":250,"value":"../../../../src/components/Scene/Scene","raw":"\"../../../../src/components/Scene/Scene\"","loc":{"start":{"line":8,"column":22,"offset":210},"end":{"line":8,"column":62,"offset":250}},"range":[210,250]},"loc":{"start":{"line":8,"column":0,"offset":188},"end":{"line":8,"column":63,"offset":251}},"range":[188,251]}],"sourceType":"module","comments":[],"loc":{"start":{"line":6,"column":0,"offset":51},"end":{"line":8,"column":63,"offset":251}},"range":[51,251]}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Introduction","position":{"start":{"line":10,"column":4,"offset":258},"end":{"line":10,"column":16,"offset":270}}}],"position":{"start":{"line":10,"column":1,"offset":255},"end":{"line":10,"column":16,"offset":270}}},{"type":"paragraph","children":[{"type":"text","value":"ðŸŽ©\r\nIn almost all BIM applications, elements are highlighted when the user moves the mouse over them or selects them. IFC.js is no exception, and in this tutorial we will see how to achieve this.","position":{"start":{"line":12,"column":1,"offset":274},"end":{"line":13,"column":192,"offset":469}}}],"position":{"start":{"line":12,"column":1,"offset":274},"end":{"line":13,"column":192,"offset":469}}},{"type":"mdxJsxFlowElement","name":"a","attributes":[{"type":"mdxJsxAttribute","name":"href","value":"https://ifcjs.github.io/info/docs/Guide/web-ifc-three/Tutorials/Picking/"},{"type":"mdxJsxAttribute","name":"target","value":"_self"}],"children":[{"type":"paragraph","children":[{"type":"text","value":"ðŸ‘©â€ðŸ« Previously","position":{"start":{"line":19,"column":3,"offset":583},"end":{"line":19,"column":19,"offset":599}}},{"type":"mdxTextExpression","value":"\" \"","position":{"start":{"line":19,"column":19,"offset":599},"end":{"line":19,"column":24,"offset":604}},"data":{"estree":{"type":"Program","start":600,"end":603,"body":[{"type":"ExpressionStatement","expression":{"type":"Literal","start":600,"end":603,"value":" ","raw":"\" \"","loc":{"start":{"line":19,"column":19,"offset":600},"end":{"line":19,"column":22,"offset":603}},"range":[600,603]},"start":600,"end":603,"loc":{"start":{"line":19,"column":19,"offset":600},"end":{"line":19,"column":22,"offset":603}},"range":[600,603]}],"sourceType":"module","comments":[],"loc":{"start":{"line":19,"column":19,"offset":600},"end":{"line":19,"column":22,"offset":603}},"range":[600,603]}}}],"position":{"start":{"line":19,"column":3,"offset":583},"end":{"line":19,"column":24,"offset":604}}}],"position":{"start":{"line":15,"column":1,"offset":473},"end":{"line":20,"column":5,"offset":610}}},{"type":"paragraph","children":[{"type":"text","value":"we have seen how to obtain the ID of an object on which we cast a ray with the\r\n","position":{"start":{"line":21,"column":1,"offset":612},"end":{"line":22,"column":1,"offset":692}}},{"type":"mdxJsxTextElement","name":"a","attributes":[{"type":"mdxJsxAttribute","name":"href","value":"https://threejs.org/docs/#api/en/core/Raycaster"}],"children":[{"type":"text","value":"Raycaster","position":{"start":{"line":22,"column":59,"offset":750},"end":{"line":22,"column":68,"offset":759}}}],"position":{"start":{"line":22,"column":1,"offset":692},"end":{"line":22,"column":72,"offset":763}}},{"type":"text","value":". Now\r\nthat we have those IDs, it's possible to highlight those elements using ","position":{"start":{"line":22,"column":72,"offset":763},"end":{"line":23,"column":73,"offset":842}}},{"type":"mdxJsxTextElement","name":"b","attributes":[],"children":[{"type":"text","value":"\r\ngeometric subsets\r\n","position":{"start":{"line":23,"column":76,"offset":845},"end":{"line":25,"column":1,"offset":868}}}],"position":{"start":{"line":23,"column":73,"offset":842},"end":{"line":25,"column":5,"offset":872}}},{"type":"text","value":".","position":{"start":{"line":25,"column":5,"offset":872},"end":{"line":25,"column":6,"offset":873}}}],"position":{"start":{"line":21,"column":1,"offset":612},"end":{"line":25,"column":6,"offset":873}}},{"type":"mdxJsxFlowElement","name":"IfcCard","attributes":[{"type":"mdxJsxAttribute","name":"icon","value":"ðŸ§±"},{"type":"mdxJsxAttribute","name":"title","value":"Geometric subsets?"}],"children":[{"type":"paragraph","children":[{"type":"mdxJsxTextElement","name":"b","attributes":[],"children":[{"type":"text","value":"Geometric subsets","position":{"start":{"line":28,"column":6,"offset":930},"end":{"line":28,"column":23,"offset":947}}}],"position":{"start":{"line":28,"column":3,"offset":927},"end":{"line":28,"column":27,"offset":951}}},{"type":"text","value":" are any group of items in the model. For example: all\r\ndoors, all ground floor elements or all elements fulfilling a given condition.","position":{"start":{"line":28,"column":27,"offset":951},"end":{"line":29,"column":81,"offset":1087}}}],"position":{"start":{"line":28,"column":3,"offset":927},"end":{"line":29,"column":81,"offset":1087}}}],"position":{"start":{"line":27,"column":1,"offset":877},"end":{"line":30,"column":11,"offset":1099}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Import dependencies","position":{"start":{"line":32,"column":5,"offset":1107},"end":{"line":32,"column":24,"offset":1126}}}],"position":{"start":{"line":32,"column":1,"offset":1103},"end":{"line":32,"column":24,"offset":1126}}},{"type":"paragraph","children":[{"type":"text","value":"âš½\r\nWe'll need a ","position":{"start":{"line":34,"column":1,"offset":1130},"end":{"line":35,"column":14,"offset":1146}}},{"type":"link","title":null,"url":"https://threejs.org/docs/#api/en/materials/Material","children":[{"type":"text","value":"material","position":{"start":{"line":35,"column":15,"offset":1147},"end":{"line":35,"column":23,"offset":1155}}}],"position":{"start":{"line":35,"column":14,"offset":1146},"end":{"line":35,"column":77,"offset":1209}}},{"type":"text","value":" to highlight the items. You can choose any material you like; in this example we'll use a ","position":{"start":{"line":35,"column":77,"offset":1209},"end":{"line":35,"column":168,"offset":1300}}},{"type":"link","title":null,"url":"https://threejs.org/docs/#api/en/materials/MeshLambertMaterial","children":[{"type":"text","value":"MeshLambertmaterial","position":{"start":{"line":35,"column":169,"offset":1301},"end":{"line":35,"column":188,"offset":1320}}}],"position":{"start":{"line":35,"column":168,"offset":1300},"end":{"line":35,"column":253,"offset":1385}}},{"type":"text","value":", which we'll import from Three's core library.","position":{"start":{"line":35,"column":253,"offset":1385},"end":{"line":35,"column":300,"offset":1432}}}],"position":{"start":{"line":34,"column":1,"offset":1130},"end":{"line":35,"column":300,"offset":1432}}},{"type":"code","lang":"js","meta":null,"value":"import { MeshLambertMaterial } from \"three\";","position":{"start":{"line":37,"column":1,"offset":1436},"end":{"line":39,"column":4,"offset":1492}}},{"type":"paragraph","children":[{"type":"text","value":"We'll use the Raycaster, so you'll also need ","position":{"start":{"line":41,"column":1,"offset":1496},"end":{"line":41,"column":46,"offset":1541}}},{"type":"mdxJsxTextElement","name":"a","attributes":[{"type":"mdxJsxAttribute","name":"href","value":"https://ifcjs.github.io/info/docs/Guide/web-ifc-three/Tutorials/Picking/#import-threejs-dependencies"},{"type":"mdxJsxAttribute","name":"target","value":"_self"}],"children":[{"type":"text","value":"those dependencies","position":{"start":{"line":41,"column":172,"offset":1667},"end":{"line":41,"column":190,"offset":1685}}}],"position":{"start":{"line":41,"column":46,"offset":1541},"end":{"line":41,"column":194,"offset":1689}}},{"type":"text","value":", as well as ","position":{"start":{"line":41,"column":194,"offset":1689},"end":{"line":41,"column":207,"offset":1702}}},{"type":"mdxJsxTextElement","name":"a","attributes":[{"type":"mdxJsxAttribute","name":"href","value":"https://ifcjs.github.io/info/docs/Guide/web-ifc-three/Tutorials/Picking/#import-three-mesh-bvh-optional"},{"type":"mdxJsxAttribute","name":"target","value":"_self"}],"children":[{"type":"text","value":"three-mesh-bvh","position":{"start":{"line":41,"column":336,"offset":1831},"end":{"line":41,"column":350,"offset":1845}}}],"position":{"start":{"line":41,"column":207,"offset":1702},"end":{"line":41,"column":354,"offset":1849}}},{"type":"text","value":" if we want optimal performance.","position":{"start":{"line":41,"column":354,"offset":1849},"end":{"line":41,"column":386,"offset":1881}}}],"position":{"start":{"line":41,"column":1,"offset":1496},"end":{"line":41,"column":386,"offset":1881}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"How to do it","position":{"start":{"line":43,"column":4,"offset":1888},"end":{"line":43,"column":16,"offset":1900}}}],"position":{"start":{"line":43,"column":1,"offset":1885},"end":{"line":43,"column":16,"offset":1900}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Highlight material","position":{"start":{"line":45,"column":5,"offset":1908},"end":{"line":45,"column":23,"offset":1926}}}],"position":{"start":{"line":45,"column":1,"offset":1904},"end":{"line":45,"column":23,"offset":1926}}},{"type":"paragraph","children":[{"type":"text","value":"ðŸŒ€\r\nThe first thing is to create the ","position":{"start":{"line":47,"column":1,"offset":1930},"end":{"line":48,"column":34,"offset":1967}}},{"type":"strong","children":[{"type":"text","value":"highlight material","position":{"start":{"line":48,"column":36,"offset":1969},"end":{"line":48,"column":54,"offset":1987}}}],"position":{"start":{"line":48,"column":34,"offset":1967},"end":{"line":48,"column":56,"offset":1989}}},{"type":"text","value":".Play with the configuration and make the material look nice! Pro tip: you can use ","position":{"start":{"line":48,"column":56,"offset":1989},"end":{"line":48,"column":139,"offset":2072}}},{"type":"inlineCode","value":"depthTest=false","position":{"start":{"line":48,"column":139,"offset":2072},"end":{"line":48,"column":156,"offset":2089}}},{"type":"text","value":" so that the object is visible from any viewpoint.","position":{"start":{"line":48,"column":156,"offset":2089},"end":{"line":48,"column":206,"offset":2139}}}],"position":{"start":{"line":47,"column":1,"offset":1930},"end":{"line":48,"column":206,"offset":2139}}},{"type":"code","lang":"js","meta":null,"value":"// Creates subset material\r\nconst preselectMat = new MeshLambertMaterial({\r\n  transparent: true,\r\n  opacity: 0.6,\r\n  color: 0xff88ff,\r\n  depthTest: false,\r\n});","position":{"start":{"line":50,"column":1,"offset":2143},"end":{"line":58,"column":4,"offset":2314}}},{"type":"paragraph","children":[{"type":"text","value":"â˜\r\nNote that geometric subsets are ","position":{"start":{"line":60,"column":1,"offset":2318},"end":{"line":61,"column":33,"offset":2353}}},{"type":"strong","children":[{"type":"text","value":"uniquely identified","position":{"start":{"line":61,"column":35,"offset":2355},"end":{"line":61,"column":54,"offset":2374}}}],"position":{"start":{"line":61,"column":33,"offset":2353},"end":{"line":61,"column":56,"offset":2376}}},{"type":"text","value":" by their material.","position":{"start":{"line":61,"column":56,"offset":2376},"end":{"line":61,"column":75,"offset":2395}}}],"position":{"start":{"line":60,"column":1,"offset":2318},"end":{"line":61,"column":75,"offset":2395}}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If you create a subset with a wall using a material A, and then try to create a subset of another wall with the same material A, the second wall will be added to the subset of the first one.","position":{"start":{"line":63,"column":3,"offset":2401},"end":{"line":63,"column":193,"offset":2591}}}],"position":{"start":{"line":63,"column":3,"offset":2401},"end":{"line":63,"column":193,"offset":2591}}}],"position":{"start":{"line":63,"column":1,"offset":2399},"end":{"line":63,"column":193,"offset":2591}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If you create a subset with a wall using material A, and then try to create another subset of the same wall using material B, you will have created two independent subsets.","position":{"start":{"line":65,"column":3,"offset":2597},"end":{"line":65,"column":175,"offset":2769}}}],"position":{"start":{"line":65,"column":3,"offset":2597},"end":{"line":65,"column":175,"offset":2769}}}],"position":{"start":{"line":65,"column":1,"offset":2595},"end":{"line":65,"column":175,"offset":2769}}}],"position":{"start":{"line":63,"column":1,"offset":2399},"end":{"line":65,"column":175,"offset":2769}}},{"type":"mdxJsxFlowElement","name":"IfcAlert","attributes":[],"children":[{"type":"paragraph","children":[{"type":"text","value":"You can have two separate subsets with the same appearance using two instances\r\nof the same material.","position":{"start":{"line":68,"column":3,"offset":2787},"end":{"line":69,"column":24,"offset":2890}}}],"position":{"start":{"line":68,"column":3,"offset":2787},"end":{"line":69,"column":24,"offset":2890}}}],"position":{"start":{"line":67,"column":1,"offset":2773},"end":{"line":70,"column":12,"offset":2903}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Single subset","position":{"start":{"line":72,"column":5,"offset":2911},"end":{"line":72,"column":18,"offset":2924}}}],"position":{"start":{"line":72,"column":1,"offset":2907},"end":{"line":72,"column":18,"offset":2924}}},{"type":"paragraph","children":[{"type":"text","value":"ðŸ­\r\nWe can create a highlight effect when the user hovers with ","position":{"start":{"line":74,"column":1,"offset":2928},"end":{"line":75,"column":60,"offset":2991}}},{"type":"mdxJsxTextElement","name":"a","attributes":[{"type":"mdxJsxAttribute","name":"href","value":"https://ifcjs.github.io/info/docs/Guide/web-ifc-three/api#createsubset"},{"type":"mdxJsxAttribute","name":"target","value":"_self"}],"children":[{"type":"text","value":"createSubset","position":{"start":{"line":75,"column":156,"offset":3087},"end":{"line":75,"column":168,"offset":3099}}}],"position":{"start":{"line":75,"column":60,"offset":2991},"end":{"line":75,"column":172,"offset":3103}}},{"type":"text","value":".","position":{"start":{"line":75,"column":172,"offset":3103},"end":{"line":75,"column":173,"offset":3104}}}],"position":{"start":{"line":74,"column":1,"offset":2928},"end":{"line":75,"column":173,"offset":3104}}},{"type":"code","lang":"js","meta":null,"value":"const ifc = ifcLoader.ifcManager;\r\n\r\n// Reference to the previous selection\r\nlet preselectModel = { id: -1 };\r\n\r\nfunction highlight(event, material, model) {\r\n  const found = cast(event)[0];\r\n  if (found) {\r\n    // Gets model ID\r\n    model.id = found.object.modelID;\r\n\r\n    // Gets Express ID\r\n    const index = found.faceIndex;\r\n    const geometry = found.object.geometry;\r\n    const id = ifc.getExpressId(geometry, index);\r\n\r\n    // Creates subset\r\n    ifcLoader.ifcManager.createSubset({\r\n      modelID: model.id,\r\n      ids: [id],\r\n      material: material,\r\n      scene: scene,\r\n      removePrevious: true,\r\n    });\r\n  } else {\r\n    // Removes previous highlight\r\n    ifc.removeSubset(model.id, material);\r\n  }\r\n}\r\n\r\nwindow.onmousemove = (event) => highlight(event, preselectMat, preselectModel);","position":{"start":{"line":77,"column":1,"offset":3108},"end":{"line":109,"column":4,"offset":3921}}},{"type":"mdxJsxFlowElement","name":"Scene","attributes":[{"type":"mdxJsxAttribute","name":"link","value":{"type":"mdxJsxAttributeValueExpression","value":"\r\n \"https://ifcjs.github.io/hello-world/examples/web-ifc-three/highlighting-single/\"\r\n","data":{"estree":{"type":"Program","start":3941,"end":4032,"body":[{"type":"ExpressionStatement","expression":{"type":"Literal","start":3947,"end":4028,"loc":{"start":{"line":113,"column":4,"offset":3947},"end":{"line":113,"column":85,"offset":4028}},"value":"https://ifcjs.github.io/hello-world/examples/web-ifc-three/highlighting-single/","raw":"\"https://ifcjs.github.io/hello-world/examples/web-ifc-three/highlighting-single/\"","range":[3947,4028]},"start":3941,"end":4032,"loc":{"start":{"line":112,"column":8,"offset":3941},"end":{"line":114,"column":2,"offset":4032}},"range":[3941,4032]}],"sourceType":"module","comments":[],"loc":{"start":{"line":112,"column":8,"offset":3941},"end":{"line":114,"column":2,"offset":4032}},"range":[3941,4032]}}}}],"children":[],"position":{"start":{"line":111,"column":1,"offset":3925},"end":{"line":115,"column":3,"offset":4037}}},{"type":"paragraph","children":[{"type":"text","value":"ðŸ‘€\r\nThere are several interesting things to look out for:","position":{"start":{"line":117,"column":1,"offset":4041},"end":{"line":118,"column":54,"offset":4098}}}],"position":{"start":{"line":117,"column":1,"offset":4041},"end":{"line":118,"column":54,"offset":4098}}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The implementation of ","position":{"start":{"line":120,"column":3,"offset":4104},"end":{"line":120,"column":25,"offset":4126}}},{"type":"inlineCode","value":"cast()","position":{"start":{"line":120,"column":25,"offset":4126},"end":{"line":120,"column":33,"offset":4134}}},{"type":"text","value":" was shown ","position":{"start":{"line":120,"column":33,"offset":4134},"end":{"line":120,"column":44,"offset":4145}}},{"type":"mdxJsxTextElement","name":"a","attributes":[{"type":"mdxJsxAttribute","name":"href","value":"https://ifcjs.github.io/info/docs/Guide/web-ifc-three/Tutorials/Picking/#how-to-do-it"},{"type":"mdxJsxAttribute","name":"target","value":"_self"}],"children":[{"type":"text","value":"previously","position":{"start":{"line":120,"column":155,"offset":4256},"end":{"line":120,"column":165,"offset":4266}}}],"position":{"start":{"line":120,"column":44,"offset":4145},"end":{"line":120,"column":169,"offset":4270}}},{"type":"text","value":".","position":{"start":{"line":120,"column":169,"offset":4270},"end":{"line":120,"column":170,"offset":4271}}}],"position":{"start":{"line":120,"column":3,"offset":4104},"end":{"line":120,"column":170,"offset":4271}}}],"position":{"start":{"line":120,"column":1,"offset":4102},"end":{"line":120,"column":170,"offset":4271}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The variable ","position":{"start":{"line":122,"column":3,"offset":4277},"end":{"line":122,"column":16,"offset":4290}}},{"type":"inlineCode","value":"currentModel","position":{"start":{"line":122,"column":16,"offset":4290},"end":{"line":122,"column":30,"offset":4304}}},{"type":"text","value":" is used to store a reference of the selected model; this way, when the user is not hovering an object, we are able to remove the previous subset with ","position":{"start":{"line":122,"column":30,"offset":4304},"end":{"line":122,"column":181,"offset":4455}}},{"type":"mdxJsxTextElement","name":"a","attributes":[{"type":"mdxJsxAttribute","name":"href","value":"https://ifcjs.github.io/info/docs/Guide/web-ifc-three/api#removesubset"},{"type":"mdxJsxAttribute","name":"target","value":"_self"}],"children":[{"type":"text","value":"removeSubset","position":{"start":{"line":122,"column":277,"offset":4551},"end":{"line":122,"column":289,"offset":4563}}}],"position":{"start":{"line":122,"column":181,"offset":4455},"end":{"line":122,"column":293,"offset":4567}}},{"type":"text","value":".","position":{"start":{"line":122,"column":293,"offset":4567},"end":{"line":122,"column":294,"offset":4568}}}],"position":{"start":{"line":122,"column":3,"offset":4277},"end":{"line":122,"column":294,"offset":4568}}}],"position":{"start":{"line":122,"column":1,"offset":4275},"end":{"line":122,"column":294,"offset":4568}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The IDs of the items whose subset to create have to be given as an ","position":{"start":{"line":124,"column":3,"offset":4574},"end":{"line":124,"column":70,"offset":4641}}},{"type":"strong","children":[{"type":"text","value":"array","position":{"start":{"line":124,"column":72,"offset":4643},"end":{"line":124,"column":77,"offset":4648}}}],"position":{"start":{"line":124,"column":70,"offset":4641},"end":{"line":124,"column":79,"offset":4650}}},{"type":"text","value":" (even if it's a single ID).","position":{"start":{"line":124,"column":79,"offset":4650},"end":{"line":124,"column":107,"offset":4678}}}],"position":{"start":{"line":124,"column":3,"offset":4574},"end":{"line":124,"column":107,"offset":4678}}}],"position":{"start":{"line":124,"column":1,"offset":4572},"end":{"line":124,"column":107,"offset":4678}}}],"position":{"start":{"line":120,"column":1,"offset":4102},"end":{"line":124,"column":107,"offset":4678}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Multiple subsets","position":{"start":{"line":126,"column":5,"offset":4686},"end":{"line":126,"column":21,"offset":4702}}}],"position":{"start":{"line":126,"column":1,"offset":4682},"end":{"line":126,"column":21,"offset":4702}}},{"type":"paragraph","children":[{"type":"text","value":"ðŸ’…ðŸ’…ðŸ’…\r\nWorking with ","position":{"start":{"line":128,"column":1,"offset":4706},"end":{"line":129,"column":14,"offset":4727}}},{"type":"strong","children":[{"type":"text","value":"multiple subsets","position":{"start":{"line":129,"column":16,"offset":4729},"end":{"line":129,"column":32,"offset":4745}}}],"position":{"start":{"line":129,"column":14,"offset":4727},"end":{"line":129,"column":34,"offset":4747}}},{"type":"text","value":" is as easy as working with a single subset. We just need to create a new material, create a new subset with the same function and associate the creation of that subset to an event.","position":{"start":{"line":129,"column":34,"offset":4747},"end":{"line":129,"column":215,"offset":4928}}}],"position":{"start":{"line":128,"column":1,"offset":4706},"end":{"line":129,"column":215,"offset":4928}}},{"type":"paragraph","children":[{"type":"text","value":"In this example we are going to bind it to ","position":{"start":{"line":131,"column":1,"offset":4932},"end":{"line":131,"column":44,"offset":4975}}},{"type":"strong","children":[{"type":"text","value":"double click","position":{"start":{"line":131,"column":46,"offset":4977},"end":{"line":131,"column":58,"offset":4989}}}],"position":{"start":{"line":131,"column":44,"offset":4975},"end":{"line":131,"column":60,"offset":4991}}},{"type":"text","value":" to simulate the effect of highlighting objects when they are selected.","position":{"start":{"line":131,"column":60,"offset":4991},"end":{"line":131,"column":131,"offset":5062}}}],"position":{"start":{"line":131,"column":1,"offset":4932},"end":{"line":131,"column":131,"offset":5062}}},{"type":"code","lang":"js","meta":null,"value":"const selectMat = new MeshLambertMaterial({\r\n  transparent: true,\r\n  opacity: 0.6,\r\n  color: 0xff00ff,\r\n  depthTest: false,\r\n});\r\n\r\nconst selectModel = { id: -1 };\r\nwindow.ondblclick = (event) => highlight(event, selectMat, selectModel);","position":{"start":{"line":133,"column":1,"offset":5066},"end":{"line":143,"column":4,"offset":5315}}},{"type":"mdxJsxFlowElement","name":"Scene","attributes":[{"type":"mdxJsxAttribute","name":"link","value":{"type":"mdxJsxAttributeValueExpression","value":"\r\n \"https://ifcjs.github.io/hello-world/examples/web-ifc-three/highlighting-multiple/\"\r\n","data":{"estree":{"type":"Program","start":5335,"end":5428,"body":[{"type":"ExpressionStatement","expression":{"type":"Literal","start":5341,"end":5424,"loc":{"start":{"line":147,"column":4,"offset":5341},"end":{"line":147,"column":87,"offset":5424}},"value":"https://ifcjs.github.io/hello-world/examples/web-ifc-three/highlighting-multiple/","raw":"\"https://ifcjs.github.io/hello-world/examples/web-ifc-three/highlighting-multiple/\"","range":[5341,5424]},"start":5335,"end":5428,"loc":{"start":{"line":146,"column":8,"offset":5335},"end":{"line":148,"column":2,"offset":5428}},"range":[5335,5428]}],"sourceType":"module","comments":[],"loc":{"start":{"line":146,"column":8,"offset":5335},"end":{"line":148,"column":2,"offset":5428}},"range":[5335,5428]}}}}],"children":[],"position":{"start":{"line":145,"column":1,"offset":5319},"end":{"line":149,"column":3,"offset":5433}}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Extracting geometry","position":{"start":{"line":151,"column":5,"offset":5441},"end":{"line":151,"column":24,"offset":5460}}}],"position":{"start":{"line":151,"column":1,"offset":5437},"end":{"line":151,"column":24,"offset":5460}}},{"type":"paragraph","children":[{"type":"text","value":"ðŸ‘©â€ðŸ«\r\nIf you create a geometry subset and do not specify a highlight material, the subset will have the ","position":{"start":{"line":153,"column":1,"offset":5464},"end":{"line":154,"column":99,"offset":5569}}},{"type":"strong","children":[{"type":"text","value":"original materials","position":{"start":{"line":154,"column":101,"offset":5571},"end":{"line":154,"column":119,"offset":5589}}}],"position":{"start":{"line":154,"column":99,"offset":5569},"end":{"line":154,"column":121,"offset":5591}}},{"type":"text","value":".","position":{"start":{"line":154,"column":121,"offset":5591},"end":{"line":154,"column":122,"offset":5592}}}],"position":{"start":{"line":153,"column":1,"offset":5464},"end":{"line":154,"column":122,"offset":5592}}},{"type":"mdxJsxFlowElement","name":"IfcAlert","attributes":[],"children":[{"type":"paragraph","children":[{"type":"text","value":"This would allow, for example, to create a geometric subset with all the\r\nground floor elements of the BIM model and hide the rest.","position":{"start":{"line":157,"column":3,"offset":5610},"end":{"line":158,"column":60,"offset":5743}}}],"position":{"start":{"line":157,"column":3,"offset":5610},"end":{"line":158,"column":60,"offset":5743}}}],"position":{"start":{"line":156,"column":1,"offset":5596},"end":{"line":159,"column":12,"offset":5756}}},{"type":"paragraph","children":[{"type":"text","value":"ðŸŒš\r\nIn the next example we will apply a transparent material to a copy of loaded IFC model and create a subset with the original materials when the mouse hovers over an item. For this we will use almost the same code as before.","position":{"start":{"line":161,"column":1,"offset":5760},"end":{"line":162,"column":224,"offset":5987}}}],"position":{"start":{"line":161,"column":1,"offset":5760},"end":{"line":162,"column":224,"offset":5987}}},{"type":"code","lang":"js","meta":"{3,4,5,6,7,13,14,15,16}","value":"ifcLoader.load(\"../../IFC/01.ifc\", (ifcModel) => {\r\n  ifcModel.visible = false;\r\n\r\n  const modelCopy = new Mesh(\r\n    ifcModel.geometry,\r\n    new MeshLambertMaterial({\r\n      transparent: true,\r\n      opacity: 0.1,\r\n      color: 0x77aaff,\r\n    })\r\n  );\r\n\r\n  scene.add(ifcModel);\r\n  scene.add(modelCopy);\r\n});\r\n\r\n// ...\r\n\r\nwindow.onmousemove = (event) => highlight(event, undefined, highlightModel);","position":{"start":{"line":164,"column":1,"offset":5991},"end":{"line":184,"column":4,"offset":6425}}},{"type":"mdxJsxFlowElement","name":"Scene","attributes":[{"type":"mdxJsxAttribute","name":"link","value":{"type":"mdxJsxAttributeValueExpression","value":"\r\n \"https://ifcjs.github.io/hello-world/examples/web-ifc-three/highlighting-single-original-material/\"\r\n","data":{"estree":{"type":"Program","start":6445,"end":6554,"body":[{"type":"ExpressionStatement","expression":{"type":"Literal","start":6451,"end":6550,"loc":{"start":{"line":188,"column":4,"offset":6451},"end":{"line":188,"column":103,"offset":6550}},"value":"https://ifcjs.github.io/hello-world/examples/web-ifc-three/highlighting-single-original-material/","raw":"\"https://ifcjs.github.io/hello-world/examples/web-ifc-three/highlighting-single-original-material/\"","range":[6451,6550]},"start":6445,"end":6554,"loc":{"start":{"line":187,"column":8,"offset":6445},"end":{"line":189,"column":2,"offset":6554}},"range":[6445,6554]}],"sourceType":"module","comments":[],"loc":{"start":{"line":187,"column":8,"offset":6445},"end":{"line":189,"column":2,"offset":6554}},"range":[6445,6554]}}}}],"children":[],"position":{"start":{"line":186,"column":1,"offset":6429},"end":{"line":190,"column":3,"offset":6559}}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Next steps","position":{"start":{"line":192,"column":4,"offset":6566},"end":{"line":192,"column":14,"offset":6576}}}],"position":{"start":{"line":192,"column":1,"offset":6563},"end":{"line":192,"column":14,"offset":6576}}},{"type":"paragraph","children":[{"type":"text","value":"ðŸŽ‰ðŸŽ‰ðŸŽ‰\r\nCongratulations! You should now be able to highlight elements and extract geometry from the BIM model. Good job!","position":{"start":{"line":194,"column":1,"offset":6580},"end":{"line":195,"column":113,"offset":6700}}}],"position":{"start":{"line":194,"column":1,"offset":6580},"end":{"line":195,"column":113,"offset":6700}}},{"type":"paragraph","children":[{"type":"text","value":"ðŸ“ƒ However, don't be so quick to claim victory. We haven't talked about the \"I\" in BIM yet, and that's even more important than the geometry. That's what the next lesson is for.","position":{"start":{"line":197,"column":1,"offset":6704},"end":{"line":197,"column":178,"offset":6881}}}],"position":{"start":{"line":197,"column":1,"offset":6704},"end":{"line":197,"column":178,"offset":6881}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":198,"column":1,"offset":6883}}}